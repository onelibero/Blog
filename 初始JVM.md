# 一、概念

java虚拟机（JVM）是java编程语言的核心组成部分之一，他允许java程序在不同的操作系统上允许，提供了内存管理，垃圾回收，即使编译等功能。

### **java文件编译过程：**

- **程序员编写.java文件**
- 由javac编译成字节码文件.class（JVM只认识.class文件）
- 由JVM编译成电脑认识的文件

### JVM的基本特点：

- **执行java字节码**：java源代码首先被编译成字节码（.class文件），然后由JVM解释执行或者通过即时编译器将字节码转换成本地机器码进行执行，从而实现跨平台特性（JVM从软件层面屏蔽了底层硬件，指令层面的细节让他兼容各种系统，为java程序提供了一个独立于操作系统的运行环境，让java程序能够在不同平台上保持一致行为）
- **内存管理**：JVM负责管理程序的内存分配和挥手。它将内存分为不同的区域，包括堆、方法区、虚拟机等。其中，堆用于存储对象实例，方法区存储类信息和常量池等
- **垃圾回收**：JVM的垃圾回收器负责自动识别并回收不再被程序引用的内存，防止内存的泄露。不同垃圾回收算法和策略可以用来优化内存使用和程序性能
- **类加载**：JVM在运行时按需加载类和资源，类加载器负责将类文件加载到内存中，并在需要时解析和链接这些类
- **多线程支持**：JVM创建java程序时创建和管理多线程，通过线程调度器分配CPU时间给不同的线程，实现并发执行
- **性能优化**：JVM在运行时可以执行各种优化，包括内联、逃跑分析、方法内联扩展等，以提高程序的性能
- **安全性**：JVM提供了安全性机制，包括字节码效验，安全沙箱等，以保护系统免受恶意代码的影响
- **诊断和监控**：JVM提供了丰富的诊断和监控工具，用于分析程序性能，内存使用、线程情况等

# 二、JDK和JRE和JVM

## JDK（java开发工具包）

JDK是用于开发、编译、调试和运行Java应用程序的一套软件工具集合。它包含了Java编程语言的基本组件，以及一系列开发工具，使开发人员能够创建各种类型的Java应用程序，从简单的命令行工具到复杂的企业级应用

包括：

- **编译器（javac）**：用于将java源代码编译成字节码文件，这些文件可以在java虚拟机上运行
- **JRE（java运行环境）**：是用于在计算机上运行Java应用程序的环境
- **JVM（java虚拟机）**：java应用程序的运行引擎，负责解释和执行java代码
- **类库和API**：JDK附带了java的标准类库和API，这些类库包含了丰富的功能，例如集合、输入/输出、图形界面、网络、多线程等，开发人员可以使用这些类库构建各种类型的应用
- **开发工具**：JDK提供了一系列的开发工具，包括调试器（jdb）、JavaDoc文档生成工具、JConsole监视工具等
- **示例代码**：JDK附带了大量的示例代码，展示了如何使用不同的Java库和功能
- **JAR工具（Java Archive）**：用于创建、管理和部署Java库和应用的打包文件
- **文档和教程**：包含了java编程的官方文档和教程，帮助了解java语言特性和API最佳实践
- **不同版本和发行版**：JDK有不同的版本，每个版本都有一些新的功能和改进。另外，有不同的JDK发行版，如Oracle JDK、OpenJDK等，它们在许可证和支持方面有所不同

## JRE（java运行时环境）

Java运行时环境（Java Runtime Environment，JRE）是用于在计算机上运行Java应用程序的环境。它包括Java虚拟机（JVM）、Java类库和支持文件，为Java应用程序提供了必要的运行时支持。JRE是将Java应用程序部署到用户计算机上的基本环境。

包括：

- **java虚拟机（JVM）**:JRE内置了java虚拟机，是java程序的执行引擎，负责解释和执行java字节码
- **java类库**：JRE包含了java标准类库，也称为java API。这些类库提供了大量的预定义类和方法，涵盖了输入/输出、集合、图形界面、网络、多线程等领域
- **运行时支持**：JRE提供了java应用程序在运行时所需的支持，包括内存管理，垃圾回收，线程管理等。这些功能使java应用程序可以在不同操作系统上运行，并且充分利用底层硬件资源
- **部署应用程序**：当用户需要运行java应用程序只需要安装适当版本的JRE，无需安装JDK
- **跨平台性**：JRE提供了标准化的运行环境，可以将java应用程序移植到不同的操作系统和硬件平台上，保持相同的行为
- **没有开发工具**：JRE不包含编译器，调试器和其他开发工具，因此它仅仅用于运行java程序
- **版本和发行版**：JRE有不同的版本，每个版本对应不同的Java版本，例如JRE 8、JRE 11等。同时，有不同的发行版，如Oracle JRE、OpenJRE等，它们在许可证和支持方面可能有所不同

## 区别

- JVM是java程序的运行引擎，负责解释和执行java字节码
- JRE包括JVM和java运行程序所需要的类库和资源，用于执行java程序
- JDK是java开发工具包，包含JRE以及用于开发java程序的编译器和其他工具

其余文章：

[JVM运行时数据区域](https://onelibero.love/archives/jvm1)

[JVM各类加载机制](https://onelibero.love/archives/jvm1)

[JVM内存管理和垃圾回收](https://onelibero.love/archives/jvm3)